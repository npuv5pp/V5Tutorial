# 控制系统概述

[toc]

## 控制系统

![闭环控制](..\resource\control\loop1.png)

常见的控制系统可以表示为这样的结构，校正装置是我们需要加入使系统稳定或性能符合预期的部分，被控对象是我们不太能干涉的系统部分，反馈增益乘输出量被传递给比较器与输入作比较，形成闭环。

不存在反馈增益回路的情况称为开环控制，这对于实际系统是非常不利的，可能造成累计误差等问题。

误差为比较器输出的值（也有其他定义），当反馈增益为1时，误差即输入量与输出量的差，如果系统能正常缩小误差，那么输出量最终期望是等于输入量的，通常称这种系统是随动系统。

被控对象通常是一个不可变的系统，如已经封装好的陀螺仪，编码器等，我们不太能改变其性能，并且还可能这里存在未知的扰动，但我们能够通过修改不同的校正装置使输出量符合预期。

通常增益是正的，比较器下端是减号，称为负反馈，此时误差是输入量减反馈增益乘输出量。

每一个方框的内部代表着各自系统的传递函数，可以接收各自的输入输出。

`如我们可以设定被控对象是一个5欧姆的电阻，输入信号是电流i，输出信号是电阻上的电压u，那么对于这个部分，它的输出就是u=5i，输入是i`

线性连续控制系统可被微分方程描述为
$$
a_n\frac{d^n}{dt^n}c(t)+a_{n-1}\frac{d^{n-1}}{dt^{n-1}}c(t)+\cdots+a_1\frac{dc(t)}{dt}+a_0c(t)\\
=b_m\frac{d^m}{dt^m}r(t)+b_{m-1}\frac{d^{m-1}}{dt^{m-1}}r(t)+\cdots+b_1\frac{dr(t)}{dt}+b_0r(t)
$$
其中$c(t)$是时域的输出信号，$r(t)$是时域的输入信号。$a_i$与$b_i$​如果都是常数则这系统还是一个定常系统，否则不定常。讨论的系统主要是定常系统。

求这类微分方程的解，通常在复域进行，所以对其进行拉普拉斯变换。当系统为定常系统且$r(t)$和$c(t)$及其各阶导满足0初始条件时，拉普拉斯变换的结果会比较优雅：
$$
(a_ns^n+a_{n-1}s^{n-1}+\cdots+a_1s+a_0)C(s)=(b_ms^m+b_{m-1}s^{m-1}+\cdots+b_1s+b_0)R(s)
$$
其中$C(s)$与$R(s)$是$c(t)$与$r(t)$的拉普拉斯变换。

定义系统的传递函数为$G(s)=\frac{C(s)}{R(s)}$​​，这是一个关于s的有理分式。我们可以将各系统的传递函数填入上图的方框，当我们对系统传入一个s域值时，它就会输出一个s域值。注意我们有前提这是定常系统，这暗示输入不会影响系统传递函数。

为了更好的控制，通常需要知道（或大概知道）被控对象的传递函数，这可以使用数学物理知识建模，或是根据各种响应依据经验确定，也可以使用MATLAB的系统辨识工具箱。所谓传统控制需要**模型**，就是这个被控对象的模型。

若要求时域的输出，我们需要对$C(s)$做拉氏反变换，这可以使用留数定理来解决。留数定理得到的每一项都有一个$e^{s_{0}t}$，$s_0$是s域的极点。

## 性能指标

`什么样的系统是好的？`

1. 系统需要稳定

2. 系统稳定时误差信号小

3. 系统动态时上升时间$t_r$，峰值时间$t_p$，调节时间$t_s$和超调量$\sigma\%$​符合要求

对于任意的输入信号，我们可以将其拆分为一系列的阶跃信号（$r(t)=1$）的组合，所以对于研究诸多性能指标可以观察其在标准阶跃信号下的输出。但也不完全如此，有时对系统输出的是$r(t)=t$，$r(t)=t^2$或$r(t)=sint$​的情形，在阶跃信号下表现好可能不足以在这些信号下表现好，具体的问题还需要具体的分析。

## 闭环传递函数

接下来我们讨论的是系统整体而非单个方框内的系统，但它们是具有相似性的，系统整体也有一个传递函数，并且可以通过方框之间的关系解出。举个例子：

![求解整体系统传递函数](..\resource\control\loop2.png)

当输入$R(s)$时，输出$C(s)$，它们之间可以根据框图构造一个等式：$\frac{R-C/s}{s+1}=C$，化简为$R=\frac{s^2+s+1}{s}C$，根据传递函数的定义有$\phi=\frac{s}{s^2+s+1}$，这又被成为闭环传递函数，也是系统整体的传递函数。

对于这种一般的闭环回路，闭环传递函数通式可以写成$\phi=\frac{G}{1+GH}$，其中

* $G$是前向通道传递函数即这里的$\frac{1}{s+1}$​​，代表输入到输出的正向通道；

* $GH$​​是开环传递函数，指打断比较器，连乘，即这里的$\frac{1}{s(s+1)}$​​；

* 分母上的正负号取决于比较器，负反馈比较器则分母加，正反馈比较器则分母减。

比较复杂的框图可以借助一些方式化简，串联的模块传递函数等效相乘，并联的模块传递函数等效相加。另外，也可梅森公式法计算闭环传递函数。

有闭环传递函数后就可以将整个系统等效为黑箱，只关注输入输出与整个系统的传递函数，而无需关注系统内部。

